---
title: ã€SwiftUIã€‘ã‚¤ãƒ³ã‚¿ãƒ¼ã‚¹ãƒ†ã‚£ã‚·ãƒ£ãƒ«åºƒå‘Šã®è¡¨ç¤ºæ–¹æ³•
tags:
  - iOS
  - adMob
  - Swift
  - SwiftUI
private: false
updated_at: '2023-05-28T17:14:35+09:00'
id: 5590a55324c39582a9ef
organization_url_name: null
slide: false
ignorePublish: false
---
ç¬¬0éƒ¨: [ã‚¹ã‚¿ãƒ¼ãƒˆã‚¬ã‚¤ãƒ‰](https://qiita.com/SNQ-2001/items/44f3446ce0966c78641b)

ç¬¬1éƒ¨: [ãƒªãƒ¯ãƒ¼ãƒ‰åºƒå‘Š](https://qiita.com/SNQ-2001/items/253173abefc6f90f86ea)
ç¬¬2éƒ¨: [ã‚¤ãƒ³ã‚¿ãƒ¼ã‚¹ãƒ†ã‚£ã‚·ãƒ£ãƒ«åºƒå‘Š](https://qiita.com/SNQ-2001/items/5590a55324c39582a9ef) â† ã‚¤ãƒã‚³ã‚³
ç¬¬3éƒ¨: [ãƒã‚¤ãƒ†ã‚£ãƒ–åºƒå‘Š](https://qiita.com/SNQ-2001/items/7151fdcb8e9f8c2c42c2)
ç¬¬4éƒ¨: [ãƒãƒŠãƒ¼åºƒå‘Š](https://qiita.com/SNQ-2001/items/9bf389475cb5995469a0)
ç¬¬5éƒ¨: [ã‚¢ãƒ—ãƒªèµ·å‹•åºƒå‘Š](https://qiita.com/SNQ-2001/items/75ce24982bf418c52349)

# ã¯ã˜ã‚ã«
ã€Œ[ãƒªãƒ¯ãƒ¼ãƒ‰åºƒå‘Šã®è¡¨ç¤º](https://qiita.com/SNQ-2001/items/253173abefc6f90f86ea)ã€ãŒã¡ã‚‡ã£ã¨äººæ°—ã ã£ãŸã®ã§[ã‚¤ãƒ³ã‚¿ãƒ¼ã‚¹ãƒ†ã‚£ã‚·ãƒ£ãƒ«åºƒå‘Š](https://developers.google.com/admob/ios/interstitial?hl=ja)ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚‚ã‚„ã£ã¦ã¿ã¾ã—ãŸã€‚
æŠ•ç¨¿ãƒã‚¿å°½ããŸæ™‚ç”¨ã«ã“ã‚Œã‚·ãƒªãƒ¼ã‚ºåŒ–ã—ã¾ã™ç¬‘

# å®Ÿè£…æº–å‚™
å®Ÿè£…ã®å‰ã«[ã‚¹ã‚¿ãƒ¼ãƒˆã‚¬ã‚¤ãƒ‰](https://developers.google.com/admob/ios/quick-start?hl=ja)ã«è¨˜è¼‰ã—ã¦ã‚ã‚‹äº‹ã‚’è¡Œã„ã¾ã™

â‘ : Mobile Ads SDK ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
â‘¡: Info.plist ã®æ›´æ–°
â‘¢: Mobile Ads SDK ã®åˆæœŸåŒ–

[ã“ã¡ã‚‰](https://qiita.com/SNQ-2001/items/44f3446ce0966c78641b)ã§è©³ã—ãè§£èª¬ã—ã¦ã‚ã‚Šã¾ã™ã€‚
ã“ã‚ŒãŒçµ‚ã‚ã‚Œã°æº–å‚™ã¯å®Œäº†ã§ã™ã€‚

# å®Ÿè£…
```Interstitial.swift
import GoogleMobileAds

class Interstitial: NSObject, GADFullScreenContentDelegate, ObservableObject {
    @Published var interstitialAdLoaded: Bool = false
    
    var interstitialAd: GADInterstitialAd?

    override init() {
        super.init()
    }

    // ãƒªãƒ¯ãƒ¼ãƒ‰åºƒå‘Šã®èª­ã¿è¾¼ã¿
    func loadInterstitial() {
        GADInterstitialAd.load(withAdUnitID: "ca-app-pub-3940256099942544/4411468910", request: GADRequest()) { (ad, error) in
            if let _ = error {
                print("ğŸ˜­: èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸ")
                self.interstitialAdLoaded = false
                return
            }
            print("ğŸ˜: èª­ã¿è¾¼ã¿ã«æˆåŠŸã—ã¾ã—ãŸ")
            self.interstitialAdLoaded = true
            self.interstitialAd = ad
            self.interstitialAd?.fullScreenContentDelegate = self
        }
    }

    // ã‚¤ãƒ³ã‚¿ãƒ¼ã‚¹ãƒ†ã‚£ã‚·ãƒ£ãƒ«åºƒå‘Šã®è¡¨ç¤º
    func presentInterstitial() {
        let root = UIApplication.shared.windows.first?.rootViewController
        if let ad = interstitialAd {
            ad.present(fromRootViewController: root!)
            self.interstitialAdLoaded = false
        } else {
            print("ğŸ˜­: åºƒå‘Šã®æº–å‚™ãŒã§ãã¦ã„ã¾ã›ã‚“ã§ã—ãŸ")
            self.interstitialAdLoaded = false
            self.loadInterstitial()
        }
    }
    // å¤±æ•—é€šçŸ¥
    func ad(_ ad: GADFullScreenPresentingAd, didFailToPresentFullScreenContentWithError error: Error) {
        print("ã‚¤ãƒ³ã‚¿ãƒ¼ã‚¹ãƒ†ã‚£ã‚·ãƒ£ãƒ«åºƒå‘Šã®è¡¨ç¤ºã«å¤±æ•—ã—ã¾ã—ãŸ")
        self.interstitialAdLoaded = false
        self.loadInterstitial()
    }

    // è¡¨ç¤ºé€šçŸ¥
    func adWillPresentFullScreenContent(_ ad: GADFullScreenPresentingAd) {
        print("ã‚¤ãƒ³ã‚¿ãƒ¼ã‚¹ãƒ†ã‚£ã‚·ãƒ£ãƒ«åºƒå‘Šã‚’è¡¨ç¤ºã—ã¾ã—ãŸ")
        self.interstitialAdLoaded = false
    }

    // ã‚¯ãƒ­ãƒ¼ã‚ºé€šçŸ¥
    func adDidDismissFullScreenContent(_ ad: GADFullScreenPresentingAd) {
        print("ã‚¤ãƒ³ã‚¿ãƒ¼ã‚¹ãƒ†ã‚£ã‚·ãƒ£ãƒ«åºƒå‘Šã‚’é–‰ã˜ã¾ã—ãŸ")
        self.interstitialAdLoaded = false
    }
}
```

```ContentView.swift
import SwiftUI

struct ContentView: View {
    @ObservedObject var interstitial = Interstitial()
    var body: some View {
        Button(action: {
            interstitial.presentInterstitial()
        }) {
            Text(interstitial.interstitialAdLoaded ? "ã‚¤ãƒ³ã‚¿ãƒ¼ã‚¹ãƒ†ã‚£ã‚·ãƒ£ãƒ«åºƒå‘Šè¡¨ç¤º" : "èª­ã¿è¾¼ã¿ä¸­...")
        }
        .onAppear() {
            interstitial.loadInterstitial()
        }
        .disabled(!interstitial.interstitialAdLoaded)
    }
}
```
![Videotogif (2).gif](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/1745371/8a271203-d981-e4bc-80a7-260c7f2bd932.gif)
# ãŠã‚ã‚Š
ä»Šå›ä½œæˆã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ç½®ã„ã¨ãã®ã§å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚

https://github.com/SNQ-2001/AdMob-Interstitial-Demo
